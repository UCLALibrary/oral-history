apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "chart.fullname" . }}-env
  labels:
    {{- include "chart.labels" . | nindent 4 }}
data:
  POSTGRES_DB: {{  .Values.postgresql.auth.database }}
  POSTGRES_HOST: {{ template "chart.postgresql.host" . }}
  POSTGRES_PORT: {{ .Values.postgresql.service.ports.postgresql }}
  POSTGRES_USER: {{ .Values.postgresql.auth.username }}
  SOLR_ADMIN_USER: {{ .Values.solr.auth.adminUsername }}
  SOLR_COLLECTION_NAME: {{ .Values.solr.collection }}
  SOLR_CORE: {{ .Values.solr.coreName }}
  SOLR_HOST: {{ template "chart.solr.host" . }}
  SOLR_PORT: "8983"
{{- range $key, $value := .Values.env.configmap }}
  {{ $key }}: "{{ $value }}"
{{- end }}
